{"version":3,"sources":["scripts/main.js"],"names":["link","linkBase","getPhones","url","Promise","resolve","reject","fetch","then","result","json","catch","error","Error","getIds","map","phone","id","getFirstReceivedDetails","item","race","getAllSuccessfulDetails","allSettled","arr","forEach","status","push","value","getThreeFastestDetails","all","createElement","divClass","title","func","div","document","body","append","classList","add","insertAdjacentHTML","children","name"],"mappings":";AAAA,aAEA,IAAMA,EACF,wEACEC,EACF,oEAEJ,SAASC,EAAUC,GACV,OAAA,IAAIC,QAAQ,SAACC,EAASC,GAC3BC,MAAMJ,GACHK,KAAK,SAAAC,GACGJ,OAAAA,EAAQI,EAAOC,UAEvBC,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASE,IACAZ,OAAAA,EAAUF,GACdQ,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAC,GACTA,OAAAA,EAAMC,OAKrB,SAASC,IACA,OAAA,IAAId,QAAQ,SAACC,EAASC,GAC3BQ,IACGN,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAI,GACTjB,OAAAA,EAAaD,GAAAA,OAAAA,GAAWkB,OAAAA,EAA/B,cAGHX,KAAK,SAAAC,GACGL,OAAAA,QAAQgB,KAAKX,KAErBD,KAAK,SAAAC,GACGJ,OAAAA,EAAQ,CAACI,MAEjBE,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASS,IACA,OAAA,IAAIjB,QAAQ,SAACC,EAASC,GAC3BQ,IACGN,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAI,GACTjB,OAAAA,EAAaD,GAAAA,OAAAA,GAAWkB,OAAAA,EAA/B,cAGHX,KAAK,SAAAC,GACGL,OAAAA,QAAQkB,WAAWb,KAE3BD,KAAK,SAAAC,GACEc,IAAAA,EAAM,GAQLlB,OANPI,EAAOe,QAAQ,SAAAL,GACO,cAAhBA,EAAKM,QACPF,EAAIG,KAAKP,EAAKQ,SAIXtB,EAAQkB,KAEhBZ,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASgB,IACA,OAAA,IAAIxB,QAAQ,SAACC,EAASC,GAC3BQ,IACGN,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAI,GACTjB,OAAAA,EAAaD,GAAAA,OAAAA,GAAWkB,OAAAA,EAA/B,cAGHX,KAAK,SAAAC,GACGL,OAAAA,QAAQyB,IAAI,CACjBzB,QAAQgB,KAAKX,GACbL,QAAQgB,KAAKX,GACbL,QAAQgB,KAAKX,OAGhBD,KAAK,SAAAC,GACGJ,OAAAA,EAAQI,KAEhBE,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASkB,EAAcC,EAAUC,EAAOC,GAChCC,IAAAA,EAAMC,SAASL,cAAc,OAEnCK,SAASC,KAAKC,OAAOH,GACrBA,EAAII,UAAUC,IAAIR,GAElBG,EAAIM,mBAAmB,YACfR,aAAAA,OAAAA,EADR,0CAKAC,IACGzB,KAAK,SAAAC,GACJA,EAAOM,IAAI,SAAAI,GACTe,EAAIO,SAAS,GAAGD,mBAAmB,YAC3BrB,mBAAAA,OAAAA,EAAKuB,KAAUvB,OAAAA,OAAAA,EAAKF,GAD5B,wBAORa,EAAc,iBAAkB,iBAAkBT,GAClDS,EAAc,iBAAkB,iBAAkBZ,GAClDY,EAAc,eAAgB,yBAA0BF","file":"main.9b49cbf9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst link\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\nconst linkBase\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\n\nfunction getPhones(url) {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then(result => {\n        return resolve(result.json());\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction getIds() {\n  return getPhones(link)\n    .then(result => {\n      return result.map(phone => {\n        return phone.id;\n      });\n    });\n}\n\nfunction getFirstReceivedDetails() {\n  return new Promise((resolve, reject) => {\n    getIds()\n      .then(result => {\n        return result.map(item => {\n          return getPhones(`${linkBase}${item}.json`);\n        });\n      })\n      .then(result => {\n        return Promise.race(result);\n      })\n      .then(result => {\n        return resolve([result]);\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction getAllSuccessfulDetails() {\n  return new Promise((resolve, reject) => {\n    getIds()\n      .then(result => {\n        return result.map(item => {\n          return getPhones(`${linkBase}${item}.json`);\n        });\n      })\n      .then(result => {\n        return Promise.allSettled(result);\n      })\n      .then(result => {\n        const arr = [];\n\n        result.forEach(item => {\n          if (item.status === 'fulfilled') {\n            arr.push(item.value);\n          }\n        });\n\n        return resolve(arr);\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction getThreeFastestDetails() {\n  return new Promise((resolve, reject) => {\n    getIds()\n      .then(result => {\n        return result.map(item => {\n          return getPhones(`${linkBase}${item}.json`);\n        });\n      })\n      .then(result => {\n        return Promise.all([\n          Promise.race(result),\n          Promise.race(result),\n          Promise.race(result),\n        ]);\n      })\n      .then(result => {\n        return resolve(result);\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction createElement(divClass, title, func) {\n  const div = document.createElement('div');\n\n  document.body.append(div);\n  div.classList.add(divClass);\n\n  div.insertAdjacentHTML('beforeend', `\n    <h2>${title}</h2>\n    <ul class=\"list\"></ul>\n  `);\n\n  func()\n    .then(result => {\n      result.map(item => {\n        div.children[1].insertAdjacentHTML('beforeend', `\n          <li>${item.name} - ${item.id}</li>\n        `);\n      });\n    });\n}\n\ncreateElement('all-successful', 'All Successful', getAllSuccessfulDetails);\ncreateElement('first-received', 'First Received', getFirstReceivedDetails);\ncreateElement('three-fatest', 'Three Fastest Received', getThreeFastestDetails);\n"]}